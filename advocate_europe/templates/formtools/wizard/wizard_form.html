{% extends "base.html" %}
{% load widget_tweaks i18n idea_tags crispy_forms_tags %}

{% block content %}
<div class="wizard-page">
    <form class="wizard custom-form container-narrow" method="post" enctype="multipart/form-data">
        <div class="row">
            <div class="col-sm-6">
                <h1>{% trans 'create an idea' %} </h1>
            </div>
            <div class="col-sm-6">
                <h1 class="wizard-step-title">{{ form.section_name }}</h1>
            </div>
        </div>

        {{ wizard.form.media }}
        {{ wizard.management_form }}

        {% crispy wizard.form %}

        <div class="row">
            <div class="col-md-12">
                {% if wizard.steps.prev %}
                <button class="btn btn-primary"
                        name="wizard_goto_step"
                        type="submit"
                        value="{{ wizard.steps.prev }}">
                    {% trans "back" %}
                </button>
                {% endif %}

                {% if wizard.steps.next %}
                <button class="btn btn-primary pull-right"
                        type="submit"
                        name="submit">
                    {% trans "continue" %}
                </button>
                {% else %}
                <button class="btn btn-primary pull-right"
                        type="submit"
                        name="submit">
                    {% trans "send" %}
                </button>
                {% endif %}
            </div>
        </div>
        <ul class="wizard-progress hidden-sm hidden-xs">
            {% for step_id, step_form in view.get_form_list.items %}
            <li class="wizard-progress-entry{% if step_id == wizard.steps.current %} active{% endif %}{% if step_id < wizard.steps.current or request.resolver_match.url_name == 'idea-sketch-update' %} filled{% endif %}">
                {% if step_id < wizard.steps.current or request.resolver_match.url_name == "idea-sketch-update" %}
                <button name="wizard_safe_goto_step"
                        class="wizard-progress-button"
                        type="submit"
                        value="{{ step_id }}">
                    {{ step_form.section_name }}
                </button>
                {% else %}
                {{ step_form.section_name }}
                {% endif %}
            </li>
            {% endfor %}
        </ul>
    </form>
</div>
{% endblock %}
